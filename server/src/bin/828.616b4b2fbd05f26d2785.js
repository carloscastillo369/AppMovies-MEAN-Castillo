"use strict";(self.webpackChunkappmovies=self.webpackChunkappmovies||[]).push([[828],{828:(L,S,e)=>{e.r(S),e.d(S,{SignInModule:()=>z});var Z=e(8583),g=e(4655),a=e(3679),b=e(8109),n=e(7716),P=e(2394),C=e(363),x=e(7001),u=e(8295),F=e(9983),A=e(1095),T=e(6627),M=e(7539);function y(t,l){if(1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&t){const i=n.oxw();n.xp6(1),n.hij(" ",i.getErrorMessage("email")," ")}}function k(t,l){if(1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.qZA()),2&t){const i=n.oxw();n.xp6(1),n.hij(" ",i.getErrorMessage("password")," ")}}const E=[{path:"",component:(()=>{class t{constructor(i,o,r,s,d){this.fb=i,this._usersService=o,this._authService=r,this.snackBar=s,this.router=d,this.hide=!0,this.patternEmail=/^[0-9a-zA-Z._-]+@[a-zA-Z]+?\.[a-zA-Z]{2,3}$/,this.patternPassword=/^[0-9a-zA-Z\xf1]+$/,this.duration=3,this.verticalPosition="top",this.horizontalPosition="center",this.formSignIn=this.fb.group({email:["",[a.kI.required,a.kI.pattern(this.patternEmail)]],password:["",[a.kI.required,a.kI.minLength(6),a.kI.maxLength(15),a.kI.pattern(this.patternPassword)]]})}ngOnInit(){}isValidField(i){var o;return null===(o=this.formSignIn.get(i))||void 0===o?void 0:o.valid}isInvalidField(i){var o,r,s;return(null===(o=this.formSignIn.get(i))||void 0===o?void 0:o.invalid)&&((null===(r=this.formSignIn.get(i))||void 0===r?void 0:r.dirty)||(null===(s=this.formSignIn.get(i))||void 0===s?void 0:s.touched))}onResetForm(){this.formSignIn.reset()}onSaveForm(){if(this.formSignIn.valid){const i=this.formSignIn.value;this._usersService.getUsers().subscribe(o=>{const r=o.filter(s=>s.email==i.email&&s.password==i.password);"admin@correo.pe"==i.email&&"Admin22"==i.password?this.router.navigate(["/admin"]):r.length>0?(this._authService.logInUser(r),this.snackBar.openFromComponent(b.E,{data:`Bienvenido: ${r[0].name}!`,duration:1e3*this.duration,verticalPosition:this.verticalPosition,horizontalPosition:this.horizontalPosition,panelClass:"success"}),this.router.navigate(["/HomeMovie/movies"])):this.snackBar.openFromComponent(b.E,{data:"Email o contrase\xf1a incorrectos",duration:1e3*this.duration,verticalPosition:this.verticalPosition,horizontalPosition:this.horizontalPosition,panelClass:"error"})}),this.onResetForm()}}getErrorMessage(i){var o,r,s,d,c,p,v,h,f,I;let m;if(null===(r=null===(o=this.formSignIn.get(i))||void 0===o?void 0:o.errors)||void 0===r?void 0:r.required)switch(i){case"email":m="Por favor, ingrese su direcci\xf3n de correo electr\xf3nico.";break;case"password":m="Por favor, ingrese su contrase\xf1a."}else if(null===(d=null===(s=this.formSignIn.get(i))||void 0===s?void 0:s.errors)||void 0===d?void 0:d.pattern)switch(i){case"email":m="Por favor, ingrese una direcci\xf3n de correo electr\xf3nico v\xe1lida (p.e. someone@example.com).";break;case"password":m="Formato incorrecto, ingrese solo letras y n\xfameros."}else(null===(c=this.formSignIn.get(i))||void 0===c?void 0:c.hasError("minlength"))?m=`La contrase\xf1a debe tener m\xednimo ${null===(v=null===(p=this.formSignIn.get(i))||void 0===p?void 0:p.errors)||void 0===v?void 0:v.minlength.requiredLength} caracteres`:(null===(h=this.formSignIn.get(i))||void 0===h?void 0:h.hasError("maxlength"))&&(m=`La contrase\xf1a no debe exceder m\xe1s de ${null===(I=null===(f=this.formSignIn.get(i))||void 0===f?void 0:f.errors)||void 0===I?void 0:I.maxlength.requiredLength} caracteres`);return m}}return t.\u0275fac=function(i){return new(i||t)(n.Y36(a.qu),n.Y36(P.f),n.Y36(C.e),n.Y36(x.ux),n.Y36(g.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-sign-in-page"]],decls:25,vars:14,consts:[[1,"sign-in-container"],[1,"sign-in-form"],[3,"formGroup","submit"],["appearance","fill"],["matInput","","type","email","autocomplete","off","placeholder","someone@example.com","formControlName","email"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["color","primary"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-submit",3,"disabled"],[1,"signup-button-container"],["mat-raised-button","","color","warn","routerLink","/HomeMovie/signup",1,"btn"]],template:function(i,o){1&i&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"form",2),n.NdJ("submit",function(){return o.onSaveForm()}),n.TgZ(3,"mat-form-field",3),n.TgZ(4,"mat-label"),n._uU(5,"Email"),n.qZA(),n._UZ(6,"input",4),n.YNc(7,y,2,1,"mat-error",5),n.qZA(),n.TgZ(8,"mat-form-field",3),n.TgZ(9,"mat-label"),n._uU(10,"Contrase\xf1a"),n.qZA(),n._UZ(11,"input",6),n.TgZ(12,"button",7),n.NdJ("click",function(){return o.hide=!o.hide}),n.TgZ(13,"mat-icon"),n._uU(14),n.qZA(),n.qZA(),n.YNc(15,k,2,1,"mat-error",5),n.qZA(),n.TgZ(16,"mat-checkbox",8),n._uU(17,"Recu\xe9rdame."),n.qZA(),n.TgZ(18,"button",9),n._uU(19,"Iniciar Sesi\xf3n"),n.qZA(),n.qZA(),n.TgZ(20,"div",10),n.TgZ(21,"p"),n._uU(22,"\xbfEres nuevo en HomeMovie?"),n.qZA(),n.TgZ(23,"button",11),n._uU(24,"Crea tu cuenta de HomeMovie"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&i&&(n.xp6(2),n.Q6J("formGroup",o.formSignIn),n.xp6(4),n.ekj("is-valid",o.isValidField("email"))("is-invalid",o.isInvalidField("email")),n.xp6(1),n.Q6J("ngIf",o.isInvalidField("email")),n.xp6(4),n.ekj("is-valid",o.isValidField("password"))("is-invalid",o.isInvalidField("password")),n.Q6J("type",o.hide?"password":"text"),n.xp6(3),n.Oqu(o.hide?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf",o.isInvalidField("password")),n.xp6(3),n.Q6J("disabled",o.formSignIn.invalid))},directives:[a._Y,a.JL,a.sg,u.KE,u.hX,F.Nt,a.Fj,a.JJ,a.u,Z.O5,A.lW,u.R9,T.Hw,M.oG,g.rH,u.TO],styles:[".sign-in-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:30px 5px}.sign-in-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px}mat-form-field[_ngcontent-%COMP%]{width:100%;height:90px}.signup-button-container[_ngcontent-%COMP%]{color:#212529;margin-top:40px;text-align:center}.btn[_ngcontent-%COMP%]{width:100%}.btn-submit[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.Bz.forChild(E)],g.Bz]}),t})();var w=e(644);let z=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[Z.ez,U,a.UX,w.q]]}),t})()}}]);