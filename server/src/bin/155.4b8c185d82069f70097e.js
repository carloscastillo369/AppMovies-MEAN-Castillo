"use strict";(self.webpackChunkappmovies=self.webpackChunkappmovies||[]).push([[155],{7155:(J,c,n)=>{n.r(c),n.d(c,{OrdersModule:()=>B});var l=n(8583),d=n(4655),t=n(7716),Z=n(1841);let m=(()=>{class e{constructor(r){this.http=r,this.urlAPI="https://61bd6cde2a1dd4001708a047.mockapi.io/api/orders/"}getAllUsersOrders(){return this.http.get(this.urlAPI)}getUserOrders(r){return this.http.get(this.urlAPI+r)}deleteOrder(r){return this.http.delete(this.urlAPI+r)}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(Z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=n(1095),p=n(6627),x=n(1769),O=n(5244);function C(e,o){if(1&e&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"h3",4),t._uU(3,"Datos Personales:"),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"p",5),t._uU(6,"Nombre: "),t.TgZ(7,"span",6),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"p",5),t._uU(10,"Email: "),t.TgZ(11,"span",6),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",7),t.TgZ(14,"h3",4),t._uU(15,"Lista de pedido"),t.qZA(),t._UZ(16,"mat-divider"),t._UZ(17,"app-orders-table",8),t.TgZ(18,"div",9),t.TgZ(19,"h3",4),t._uU(20),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const r=t.oxw();t.xp6(8),t.Oqu(r.orders.name),t.xp6(4),t.Oqu(r.orders.email),t.xp6(5),t.Q6J("orders",r.orders.orders),t.xp6(3),t.hij("Total a Pagar: $ ",r.orders.totalprice.toFixed(2),"")}}let b=(()=>{class e{constructor(r,i){this._ordersService=r,this.activatedRoute=i,this.displayedColumns=["posicion","descripcion","tipo","precio"]}ngOnInit(){this.activatedRoute.params.subscribe(r=>{this._ordersService.getUserOrders(r.id).subscribe(i=>{this.orders=i})})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(m),t.Y36(d.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-user"]],decls:5,vars:1,consts:[["mat-raised-button","","routerLink","/admin/orders"],["class","orders-content",4,"ngIf"],[1,"orders-content"],[1,"personal-data"],[1,"text-bold"],[1,"text-title"],[1,"text-subtitle"],[1,"orders-table"],[3,"orders"],[1,"total-price"]],template:function(r,i){1&r&&(t.TgZ(0,"button",0),t.TgZ(1,"mat-icon"),t._uU(2,"arrow_back"),t.qZA(),t._uU(3," Regresar\n"),t.qZA(),t.YNc(4,C,21,4,"div",1)),2&r&&(t.xp6(4),t.Q6J("ngIf",i.orders))},directives:[u.lW,d.rH,p.Hw,l.O5,x.d,O.U],styles:[".orders-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.personal-data[_ngcontent-%COMP%]{width:400px;height:120px;background-color:#fff;color:#000;border-radius:10px;padding:15px}mat-divider[_ngcontent-%COMP%]{margin-bottom:20px}.text-bold[_ngcontent-%COMP%]{font-weight:bold;margin-bottom:0}.text-title[_ngcontent-%COMP%]{font-weight:bold}.text-subtitle[_ngcontent-%COMP%]{font-weight:normal;font-style:italic}.orders-table[_ngcontent-%COMP%]{width:900px;padding:15px;background-color:#fff;color:#000;border-radius:10px}.total-price[_ngcontent-%COMP%]{width:100%;text-align:right;box-sizing:border-box;padding-right:24px}"]}),e})();var _=n(8259),g=n.n(_),s=n(2789);function T(e,o){1&e&&(t.TgZ(0,"th",10),t._uU(1," ID "),t.qZA())}function v(e,o){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const r=o.$implicit;t.xp6(1),t.hij(" ",r.id," ")}}function A(e,o){1&e&&(t.TgZ(0,"th",10),t._uU(1," Nombre "),t.qZA())}function P(e,o){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const r=o.$implicit;t.xp6(1),t.Oqu(r.name)}}function U(e,o){1&e&&(t.TgZ(0,"th",10),t._uU(1," Email "),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const r=o.$implicit;t.xp6(1),t.Oqu(r.email)}}function q(e,o){1&e&&(t.TgZ(0,"th",10),t._uU(1," Accion "),t.qZA())}const f=function(e){return["/admin/orders/order",e]};function y(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"td",11),t.TgZ(1,"div",12),t.TgZ(2,"button",13),t.NdJ("click",function(){const a=t.CHM(r).$implicit;return t.oxw().deleteOrder(a.id)}),t.TgZ(3,"mat-icon"),t._uU(4,"delete"),t.qZA(),t._uU(5," Eliminar "),t.qZA(),t.TgZ(6,"button",14),t.TgZ(7,"mat-icon"),t._uU(8,"shopping_cart"),t.qZA(),t._uU(9," Pedidos "),t.qZA(),t.qZA(),t.TgZ(10,"div",15),t.TgZ(11,"button",16),t.NdJ("click",function(){const a=t.CHM(r).$implicit;return t.oxw().deleteOrder(a.id)}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t.qZA(),t.TgZ(14,"button",17),t.TgZ(15,"mat-icon"),t._uU(16,"shopping_cart"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=o.$implicit;t.xp6(6),t.Q6J("routerLink",t.VKq(2,f,r.id)),t.xp6(8),t.Q6J("routerLink",t.VKq(4,f,r.id))}}function M(e,o){1&e&&t._UZ(0,"tr",18)}function N(e,o){1&e&&t._UZ(0,"tr",19)}const Y=[{path:"",component:(()=>{class e{constructor(r){this._ordersService=r,this.displayedColumns=["id","nombre","email","accion"]}ngOnInit(){this._ordersService.getAllUsersOrders().subscribe(r=>{this.users=r})}deleteOrder(r){g().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s recuperarlo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, elim\xednalo!",allowOutsideClick:!1}).then(i=>{i.isConfirmed&&(this._ordersService.deleteOrder(r).subscribe(h=>{this._ordersService.getAllUsersOrders().subscribe(a=>this.users=a)}),g().fire("Eliminado!","La pel\xedcula ha sido eliminada.","success"))})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-orders-page"]],decls:16,vars:3,consts:[[1,"orders-list"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","email"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"buttons-container-web"],["mat-raised-button","","color","warn",1,"btn-delete",3,"click"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"buttons-container-mobile"],["mat-mini-fab","","color","warn",1,"btn-delete",3,"click"],["mat-mini-fab","","color","accent",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,T,2,0,"th",3),t.YNc(4,v,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,A,2,0,"th",3),t.YNc(7,P,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,U,2,0,"th",3),t.YNc(10,w,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,q,2,0,"th",3),t.YNc(13,y,17,6,"td",4),t.BQk(),t.YNc(14,M,1,0,"tr",8),t.YNc(15,N,1,0,"tr",9),t.qZA(),t.qZA()),2&r&&(t.xp6(1),t.Q6J("dataSource",i.users),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns))},directives:[s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,u.lW,p.Hw,d.rH,s.XQ,s.Gk],styles:[".orders-list[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;border:1px solid rgba(216,210,210,.788);border-radius:10px;padding:20px 50px}table[_ngcontent-%COMP%]{width:100%}.btn-delete[_ngcontent-%COMP%]{margin-right:30px}.buttons-container-mobile[_ngcontent-%COMP%]{display:none}@media (max-width:700px){.orders-list[_ngcontent-%COMP%]{padding:20px 0}}@media (max-width:599px){.buttons-container-mobile[_ngcontent-%COMP%]{display:block;width:92px}.buttons-container-web[_ngcontent-%COMP%]{display:none}.btn-delete[_ngcontent-%COMP%]{margin-right:10px}}"]}),e})()},{path:"order/:id",component:b}];let D=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Y)],d.Bz]}),e})();var S=n(644),k=n(4466);let B=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,D,S.q,k.m]]}),e})()}}]);